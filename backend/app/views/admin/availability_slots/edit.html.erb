<div class="pb-5 border-b border-gray-200 sm:flex sm:items-center sm:justify-between">
  <h1 class="text-2xl font-semibold text-gray-900">Edit Availability Slot</h1>
  <div class="mt-3 sm:mt-0 sm:ml-4">
    <%= link_to admin_availability_slot_path(@availability_slot), class: "inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500" do %>
      <i class="fas fa-arrow-left -ml-1 mr-2"></i>
      Back to Details
    <% end %>
  </div>
</div>

<div class="mt-6 bg-white shadow px-4 py-5 sm:rounded-lg sm:p-6">
  <div class="md:grid md:grid-cols-3 md:gap-6">
    <div class="md:col-span-1">
      <h3 class="text-lg font-medium leading-6 text-gray-900">Availability Information</h3>
      <p class="mt-1 text-sm text-gray-500">
        Update the availability time slot start and end times.
      </p>
      <% unless @availability_slot.available? || @availability_slot.appointment.nil? %>
        <div class="mt-4 p-4 rounded-md bg-yellow-50">
          <div class="flex">
            <div class="flex-shrink-0">
              <i class="fas fa-exclamation-triangle text-yellow-400"></i>
            </div>
            <div class="ml-3">
              <h3 class="text-sm font-medium text-yellow-800">Warning</h3>
              <div class="mt-2 text-sm text-yellow-700">
                <p>This slot has an associated appointment. Modifying the time will affect the scheduled appointment.</p>
                <p class="mt-2"><strong>Booked By:</strong> <%= @availability_slot.appointment.user.name %></p>
              </div>
            </div>
          </div>
        </div>
      <% end %>
    </div>
    <div class="mt-5 md:mt-0 md:col-span-2">
      <%= render 'form', availability_slot: @availability_slot %>
    </div>
  </div>
</div>